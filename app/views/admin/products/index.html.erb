<div class="row">
  <div class="col-md-12">
    <%= search_form_for(@q, url: admin_products_path, method: :get) do |f| %>
      <div class="row">
        <div class="col-3">
          <%= f.label :price_gteq, t(".category") %>
          <%= f.select(:category_id_eq,
            options_for_select([[t(".all"), 0]]) + options_from_collection_for_select(@categories, :id, :name, @value_category),
            {}, {:class => "form-control"}) %>
        </div>
        <div class="col-3">
          <%= f.label :name_cont, t(".name") %>
          <%= f.search_field :name_cont, class: "form-control" %>
        </div>
        <div class="col-3">
          <%= f.label :price_gteq, t(".from_price") %>
          <%= f.text_field :price_gteq, class: "form-control"%>
        </div>
        <div class="col-3">
          <%= f.label :price_lteq, t(".to_price") %>
          <%= f.text_field :price_lteq, class: "form-control"%>
        </div>
        <div class="col-5">
          <%= f.submit t(".search"), class: "btn btn-danger my-4" %>
          <%= link_to t(".refresh"), admin_products_path, :method => :get, class: "btn btn-info" %>
          <% if can? :create, Product %>
            <%= link_to t(".add_product"), new_admin_product_path, class: "btn btn-success" %>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>
<% if @products.any? %>
  <table class="table table-bordered table-hover table-inverse mt-4">
    <thead class="thead-inverse|thead-default">
      <tr>
        <th><%= sort_link(@q, :name, t(".name")) %></th>
        <th><%= sort_link(@q, :price, t(".price")) %></th>
        <th><%= sort_link(@q, :quantity, t(".quantity")) %></th>
        <th><%= t ".description" %></th>
        <th><%= t ".image" %></th>
        <th class="col-md-2"><%= t ".action" %></th>
      </tr>
    </thead>
    <tbody>
      <%= render @products %>
    </tbody>
  </table>
  <%== pagy_bootstrap_nav @pagy %>
<% else %>
  <div class="alert alert-warning mt-4">
    <strong><%= t ".no_product_found" %></strong>
  </div>
<% end %>
